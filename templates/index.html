<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>fdtx-fileshare</title>
<link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div class="container">
<h1>fdtx-fileshare</h1>


{% with messages = get_flashed_messages() %}
{% if messages %}
<ul class="flashes">
{% for m in messages %}
<li>{{ m }}</li>
{% endfor %}
</ul>
{% endif %}
{% endwith %}


<form method="post" enctype="multipart/form-data">
<input type="file" name="file">
<button type="submit">Upload</button>
</form>


<h2>Files</h2>
{% if files %}
<table>
<thead>
<tr><th>File</th><th>Size (bytes)</th><th>Actions</th></tr>
</thead>
<tbody>
{% for f in files %}
<tr>
<td>{{ f.name }}</td>
<td>{{ f.size }} MB</td>
<td>
<a href="{{ url_for('download', filename=f.name) }}">Download</a>
<form action="{{ url_for('delete_file', filename=f.name) }}" method="post" style="display:inline">
<button type="submit" onclick="return confirm('Delete {{ f.name }}?')">Delete</button>
</form>
</td>
</tr>
{% endfor %}
</tbody>
</table>
{% else %}
<p>No files uploaded yet.</p>
{% endif %}
</div>
</body>

</html>
